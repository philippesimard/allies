<form ng-show="!passwordChanged"
				ng-submit="changePassword(passwordForm, password)"
        name="passwordForm"
        novalidate
        class="row">
   <div class="section">
        <h5>Mot de passe</h5>
        <p>Remplir les deux champs pour changer votre mot de passe</p>
        <div class="space"></div>

    <div class="row">
    <div class="input-field col s12">        
      <input type="password" 
             placeholder="Nouveau mot de passe"
             name="password" 
             class="validate"
             ng-blur="showMinlengthError = true"
             ng-focus="showMinlengthError = false"
             ng-minlength="7"
             ng-model="password"/>
      <div ng-messages="passwordForm.password.$error" ng-if="showMinlengthError">
        <div ng-message="minlength">Votre mot de passe doit être d'au moins 7 caractères</div>
      </div>
    </div>
    </div>
    
    <div class="row">
    <div class="input-field col s12">
      <input type="password"
             placeholder="Confirmation mot de passe"
             name="passwordConfirm"
             class="validate"
             ng-required="password !== undefined"
             ng-blur="showInvalidPassword = true"
             ng-focus="showInvalidPassword = false"
             password-verify="password"
             ng-model="confirmPassword"/>
      <div ng-messages="passwordForm.passwordConfirm.$error" ng-if="passwordForm.$submitted">
        <div ng-message="required">Ce champs est requis.</div>
      </div>
      <div ng-messages="passwordForm.passwordConfirm.$error" ng-if="showInvalidPassword">
        <div ng-message="passwordVerify">Les mots de passe ne correspondent pas</div>
      </div>
    </div>
    </div>
    </div>

     <div>
      <button type="submit" class="waves-effect waves-light btn-large left orange darken-3">Modifier mot de passe</button>
      </br>
    </div>
  </form>


<div ng-show="passwordChanged">
	Mot de passe changé blablab... veuillez vous connecter!
</div>